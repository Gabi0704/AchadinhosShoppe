const produtos = [
  {
    titulo: 'Meia-calÃ§a TÃ©rmica',
    descricaoCurta: 'Meia-CalÃ§a TÃ©rmica Feminina para Inverno, forrada e peluciada.',
    descricao: `Meia-CalÃ§a TÃ©rmica TranslÃºcida com PelÃºcia â€“ Loja Brasileira | Envio em 24h! ðŸš€ðŸš€ðŸš€
    ðŸ”¥ Tamanhos Perfeitos para Todos os Corpos!
      ðŸ’› P (30kg-45kg | 120-160cm)
      â¤ï¸ M/G (45kg-80kg | 150-175cm)
      ðŸ§¡ GG (80kg-100kg | 160-185cm)
  ðŸŒŸ Por Que VocÃª Vai Amar?
  â¤ï¸ Calor e Durabilidade
    Camada externa Ã  prova de vento + interior peluciado para aquecer no frio!
    Tecnologia antideslizante na virilha â€“ nÃ£o cai nem com movimento!
    Ajuste fino que modela sem marcar gordurinhas.
    ðŸ§¡ Controle de Barriga e Corpo Esculpido
    Cinta alta que disfarÃ§a a barriga e levanta os glÃºteos.
    Design que alonga as pernas e cria silhueta elegante.
  ðŸ’› Elasticidade MÃ¡xima
  Tecido ultra elÃ¡stico (86.1% PoliÃ©ster + 13.9% Spandex) â€“ nÃ£o deforma!
  PelÃºcia interna sem marcas visÃ­veis, perfeita para dias gelados.
  ðŸ’š Combina com Tudo!
  TranslÃºcida como meia fina, ideal sob saias, vestidos, shorts ou botas.
  VersÃ¡til para trabalho, passeio, casa ou eventos de inverno!
ðŸ“¦ Detalhes TÃ©cnicos
    Cor: Preto clÃ¡ssico (discreto e sofisticado).
    Altura: 90cm â€“ cobre atÃ© o tornozelo.
  IndicaÃ§Ã£o: Dias frios, atividades ao ar livre, trabalho ou relaxar em casa.
  ðŸ§¼ Cuidados Essenciais
    Lavar somente Ã  mÃ£o em Ã¡gua fria.
    NÃ£o usar alvejante ou secadora â€“ secar Ã  sombra.
  ðŸš¨ Garantia de SatisfaÃ§Ã£o!
  DÃºvidas? Atendimento 24h pronto para ajudar!
  ENVIO EXPRESSO â€“ Receba em atÃ© 24h apÃ³s a compra!
ðŸ‘‰ Compre agora e aproveite o inverno com estilo e conforto!`,
    preco: 'R$29,99 - R$83,99',
    imagens: ['imagens/meiacalca/meiacalca.png','imagens/meiacalca/meiacalca1.png','imagens/meiacalca/meiacalca2.png','imagens/meiacalca/meiacalca4.png','imagens/meiacalca/meiacalca5.png','imagens/meiacalca/meiacalca6.png','imagens/meiacalca/meiacalca7.png','imagens/meiacalca/meiacalca8.png','imagens/meiacalca/meiacalca9.png'],
    videos: [],
    link: 'https://s.shopee.com.br/7fOU5jGiU5',
  },
  {
    titulo: 'PelÃ­cula Protetora Para Carro',
    descricaoCurta: 'PelÃ­cula antiembaÃ§ante para retrovisor, seguranÃ§a em dias de chuva.',
    descricao: `NINGUÃ‰M MERECE ESTAR COM O RETROVISOR EMBAÃ‡ADO, PRINCIPALMENTE EM DIAS DE CHUVA E PÃ“S-CHUVA, NÃ‰?
  AQUELAS GOTÃCULAS DE ÃGUA QUE FICAM BORRANDO O ESPELHO PODEM PREJUDICAR SUA VISÃƒO E COMPROMETER A SEGURANÃ‡A NO TRÃ‚NSITO.
  COM A PELÃCULA MÃGICA PARA RETROVISOR O ESPELHO VAI FICAR LISINHO E SEM MARCAS DE SUJEIRA OU CHUVA.
  QUEM NUNCA SOFREU PARA OLHAR ATRAVÃ‰S DO RETROVISOR EM DIAS CHUVOSOS, OU AO PASSAR POR UMA ESTRADA RUIM? APLIQUE A PELÃCULA E GARANTA SEMPRE UMA BOA VISÃƒO.
  PELÃCULA Ã€ PROVA D'ÃGUA E POEIRA, CHEGA DE SE PREOCUPAR COM A VISIBILIDADE DE SEU RETROVISOR.
  EVITE ACIDENTES, MANTENHA A VISIBILIDADE DO RETROVISOR ENTRE 95-99%, TAMBÃ‰M PROTEGE DE REFLEXOS.`,
    preco: 'R$ 13,39',
    imagens: ['imagens/retrovisor.png','imagens/retrovisor/retrovisor1.png','imagens/retrovisor/retrovisor2.png','imagens/retrovisor/retrovisor3.png','imagens/retrovisor/retrovisor4.png','imagens/retrovisor/retrovisor5.png'],
    videos: ['videos/retrovisor/retrovisor.mp4'],
    link: 'https://s.shopee.com.br/1VnqjEY4x7?share_channel_code=3',
  },
  {
    titulo: 'Garrafa TÃ©rmica Lilo e Stitch',
    descricaoCurta: 'Garrafa com termÃ´metro digital, inox, portÃ¡til e super fofa.',
    descricao: `âœ¨Garrafa TÃ©rmica com dupla parede de isolamento capaz de manter sua bebida gelada por atÃ© 4 horas ou quente por atÃ© 2 horas. Possui visor de Led na tampa para indicar a temperatura da bebida dentro da garrafa.
âœ¨Produto feito em AÃ§o Inox
âœ¨Livre de BPA
âœ¨Garrafa com parede dupla e isolamento a vÃ¡cuo.
Tampa com parede dupla.
âœ¨PortÃ¡til e nÃ£o vaza.
â¤ï¸Material:
âœ¨AÃ§o inox
âœ”ï¸Com termÃ´metro digital
âœ”ï¸Por favor enviar o nome a ser colocado assim que finalizar a compra, caso contrÃ¡rio seguirÃ¡ sem o mesmo. Agradecemos a compreensÃ£o.`,
    preco: 'R$ 46,74',
    imagens: ['imagens/stitch/stitch.png','imagens/stitch/stitch1.png','imagens/stitch/stitch2.png','imagens/stitch/stitch3.png','imagens/stitch/stitch4.png','imagens/stitch/stitch5.png','imagens/stitch/stitch6.png','imagens/stitch/stitch7.png','imagens/stitch/stitch8.png'],
    videos: ['videos/stitch/stitch video.mp4'],
    link: 'https://s.shopee.com.br/8KeArZVO6l?share_channel_code=3',
  },
  {
    titulo: 'Panelas antiaderentes que nÃ£o grudam',
    descricaoCurta: 'Conjunto de panelas antiaderente com tampa de vidro. Durabilidade e estilo.',
    descricao: ` Conjunto Trofa â€“ Marpal 9 peÃ§as possui vÃ¡rias cores diferentes para deixar sua cozinha mais moderna e prÃ¡tica, por um preÃ§o super em conta. Todas as panelas do conjunto contÃªm 5 camadas de revestimento antiaderente e espessura de 1,2 mm. Os pegadores sÃ£o de baquelite e antitÃ©rmicos. As tampas de vidro com saÃ­da a vapor dÃ£o total visibilidade a suas receitas e as panelas sÃ£o de fÃ¡cil limpeza.
    VANTAGEM:
      - Os acessÃ³rios incluÃ­dos neste conjunto sÃ£o feitos de Nylon e por isso melhoram a durabilidade do antiaderente.
    PEÃ‡AS INCLUÃDAS NO CONJUNTO: 02 Panelas,02 CaÃ§arolas,01 Frigideira Funda, 01 Fervedor e 03 AcessÃ³rios.
    DESCRIÃ‡ÃƒO DAS PEÃ‡AS:
      01 Panela: Capacidade: 2 L, DiÃ¢metro: 18 cm, Altura: 7 cm
      01 Panela: Capacidade: 1,5 L, DiÃ¢metro: 16 cm, Altura: 7 cm
      01 CaÃ§arola: Capacidade: 2,7 L, DiÃ¢metro: 20 cm, Altura: 8 cm
      01 CaÃ§arola: Capacidade: 2 L, DiÃ¢metro: 18 cm, Altura: 8 cm
      01 Frigideira Funda: Capacidade: 1,6 L, DiÃ¢metro: 20 cm, Altura: 6 cm
      01 Fervedor: Capacidade: 2 L, DiÃ¢metro: 14 cm, Altura: 12 cm
      03 AcessÃ³rios (VÃ£o 3 dos acessÃ³rios abaixo. Podem variar, nÃ£o tem como escolher):
        - Colher de Arroz, EspÃ¡tula, Concha, Pegador de macarrÃ£o, Escumadeira
    GARANTIA: 3 meses contra defeito de fabricaÃ§Ã£o e nÃ£o cobre mÃ¡ utilizaÃ§Ã£o.
    EMBALAGEM: Os produtos vÃªm numa Caixa Parda Reciclada. NÃ³s colaboramos com o meio ambiente utilizando caixas recicladas para transporte.`,
    preco: 'R$ 184,90',
    imagens: ['imagens/panela/panela.png','imagens/panela/panela1.png','imagens/panela/panela2.png','imagens/panela/panela3.png','imagens/panela/panela4.png','imagens/panelas/panela5.png'],
    videos: ['videos/panela/panela.mp4'],
    link: 'https://s.shopee.com.br/2fzo5SXmLV',
  },
];

// Monta os cards de produtos
function montarCatalogo() {
  const container = $('#catalogo');
  container.empty();

  produtos.forEach((produto, index) => {
    container.append(`
      <div class="produto" data-id="${index}">
        <img src="${produto.imagens[0]}" alt="${produto.titulo}" />
        <h3>${produto.titulo}</h3>
        <p>${produto.descricaoCurta}</p>
        <p><strong>${produto.preco}</strong></p>
      </div>
    `);
  });
}

// Abre o modal com os dados do produto
function abrirModal(id) {
  const p = produtos[id];
  $('#modal-title').text(p.titulo);
  $('#modal-desc').text(p.descricao);
  $('#modal-price').text(p.preco);
  $('#modal-link').off('click').on('click', () => window.open(p.link, '_blank'));

  const carrossel = $('.carrossel');

  // Remove carrossel anterior, se houver
  if (carrossel.hasClass('slick-initialized')) {
    carrossel.slick('unslick');
  }
  carrossel.html('');

  // Adiciona imagens e vÃ­deos
  p.imagens.forEach(src => {
    carrossel.append(`<div><img src="${src}" alt="${p.titulo}" /></div>`);
  });
  p.videos.forEach(src => {
    carrossel.append(`<div><video controls preload="metadata"><source src="${src}" type="video/mp4" /></video></div>`);
  });

  // Inicia slick
  carrossel.slick({
    dots: true,
    infinite: true,
    speed: 300,
    slidesToShow: 1,
    adaptiveHeight: true
  });

  $('#modal').fadeIn();
}

$(document).ready(() => {
  montarCatalogo();

  // Clique em um card para abrir o modal
  $(document).on('click', '.produto', function () {
    abrirModal($(this).data('id'));
  });

  // Fecha o modal
  $('.close').click(() => $('#modal').fadeOut());

  // Clica fora do conteÃºdo para fechar
  $(window).click(e => {
    if ($(e.target).is('#modal')) {
      $('#modal').fadeOut();
    }
  });
});
