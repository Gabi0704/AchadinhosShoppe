const produtos = [
  {
    titulo: 'Meia-cal√ßa T√©rmica',
    descricaoCurta: 'Meia-Cal√ßa T√©rmica Feminina para Inverno, forrada e peluciada.',
    descricao: `Meia-Cal√ßa T√©rmica Transl√∫cida com Pel√∫cia ‚Äì Loja Brasileira | Envio em 24h! üöÄüöÄüöÄ
    üî• Tamanhos Perfeitos para Todos os Corpos!
      üíõ P (30kg-45kg | 120-160cm)
      ‚ù§Ô∏è M/G (45kg-80kg | 150-175cm)
      üß° GG (80kg-100kg | 160-185cm)
  üåü Por Que Voc√™ Vai Amar?
  ‚ù§Ô∏è Calor e Durabilidade
    Camada externa √† prova de vento + interior peluciado para aquecer no frio!
    Tecnologia antideslizante na virilha ‚Äì n√£o cai nem com movimento!
    Ajuste fino que modela sem marcar gordurinhas.
    üß° Controle de Barriga e Corpo Esculpido
    Cinta alta que disfar√ßa a barriga e levanta os gl√∫teos.
    Design que alonga as pernas e cria silhueta elegante.
  üíõ Elasticidade M√°xima
  Tecido ultra el√°stico (86.1% Poli√©ster + 13.9% Spandex) ‚Äì n√£o deforma!
  Pel√∫cia interna sem marcas vis√≠veis, perfeita para dias gelados.
  üíö Combina com Tudo!
  Transl√∫cida como meia fina, ideal sob saias, vestidos, shorts ou botas.
  Vers√°til para trabalho, passeio, casa ou eventos de inverno!
üì¶ Detalhes T√©cnicos
    Cor: Preto cl√°ssico (discreto e sofisticado).
    Altura: 90cm ‚Äì cobre at√© o tornozelo.
  Indica√ß√£o: Dias frios, atividades ao ar livre, trabalho ou relaxar em casa.
  üßº Cuidados Essenciais
    Lavar somente √† m√£o em √°gua fria.
    N√£o usar alvejante ou secadora ‚Äì secar √† sombra.
  üö® Garantia de Satisfa√ß√£o!
  D√∫vidas? Atendimento 24h pronto para ajudar!
  ENVIO EXPRESSO ‚Äì Receba em at√© 24h ap√≥s a compra!
üëâ Compre agora e aproveite o inverno com estilo e conforto!`,
    preco: 'R$29,99 - R$83,99',
    imagens: ['imagens/meiacalca/meiacalca.png','imagens/meiacalca/meiacalca1.png','imagens/meiacalca/meiacalca2.png','imagens/meiacalca/meiacalca4.png','imagens/meiacalca/meiacalca5.png','imagens/meiacalca/meiacalca6.png','imagens/meiacalca/meiacalca7.png','imagens/meiacalca/meiacalca8.png','imagens/meiacalca/meiacalca9.png'],
    videos: [],
    link: 'https://s.shopee.com.br/7fOU5jGiU5',
  },
  {
    titulo: 'Pel√≠cula Protetora Para Carro',
    descricaoCurta: 'Pel√≠cula antiemba√ßante para retrovisor, seguran√ßa em dias de chuva.',
    descricao: `NINGU√âM MERECE ESTAR COM O RETROVISOR EMBA√áADO, PRINCIPALMENTE EM DIAS DE CHUVA E P√ìS-CHUVA, N√â?
  AQUELAS GOT√çCULAS DE √ÅGUA QUE FICAM BORRANDO O ESPELHO PODEM PREJUDICAR SUA VIS√ÉO E COMPROMETER A SEGURAN√áA NO TR√ÇNSITO.
  COM A PEL√çCULA M√ÅGICA PARA RETROVISOR O ESPELHO VAI FICAR LISINHO E SEM MARCAS DE SUJEIRA OU CHUVA.
  QUEM NUNCA SOFREU PARA OLHAR ATRAV√âS DO RETROVISOR EM DIAS CHUVOSOS, OU AO PASSAR POR UMA ESTRADA RUIM? APLIQUE A PEL√çCULA E GARANTA SEMPRE UMA BOA VIS√ÉO.
  PEL√çCULA √Ä PROVA D'√ÅGUA E POEIRA, CHEGA DE SE PREOCUPAR COM A VISIBILIDADE DE SEU RETROVISOR.
  EVITE ACIDENTES, MANTENHA A VISIBILIDADE DO RETROVISOR ENTRE 95-99%, TAMB√âM PROTEGE DE REFLEXOS.`,
    preco: 'R$ 13,39',
    imagens: ['imagens/retrovisor/retrovisor.png','imagens/retrovisor/retrovisor1.png','imagens/retrovisor/retrovisor2.png','imagens/retrovisor/retrovisor3.png','imagens/retrovisor/retrovisor4.png','imagens/retrovisor/retrovisor5.png'],
    videos: ['videos/retrovisor/retrovisor.mp4'],
    link: 'https://s.shopee.com.br/1VnqjEY4x7?share_channel_code=3',
  },
  {
    titulo: 'Garrafa T√©rmica Lilo e Stitch',
    descricaoCurta: 'Garrafa com term√¥metro digital, inox, port√°til e super fofa.',
    descricao: `‚ú®Garrafa T√©rmica com dupla parede de isolamento capaz de manter sua bebida gelada por at√© 4 horas ou quente por at√© 2 horas. Possui visor de Led na tampa para indicar a temperatura da bebida dentro da garrafa.
‚ú®Produto feito em A√ßo Inox
‚ú®Livre de BPA
‚ú®Garrafa com parede dupla e isolamento a v√°cuo.
Tampa com parede dupla.
‚ú®Port√°til e n√£o vaza.
‚ù§Ô∏èMaterial:
‚ú®A√ßo inox
‚úîÔ∏èCom term√¥metro digital
‚úîÔ∏èPor favor enviar o nome a ser colocado assim que finalizar a compra, caso contr√°rio seguir√° sem o mesmo. Agradecemos a compreens√£o.`,
    preco: 'R$ 46,74',
    imagens: ['imagens/stitch/stitch.png','imagens/stitch/stitch1.png','imagens/stitch/stitch2.png','imagens/stitch/stitch3.png','imagens/stitch/stitch4.png','imagens/stitch/stitch5.png','imagens/stitch/stitch6.png','imagens/stitch/stitch7.png','imagens/stitch/stitch8.png'],
    videos: ['videos/stitch/stitch video.mp4'],
    link: 'https://s.shopee.com.br/8KeArZVO6l?share_channel_code=3',
  },
  {
    titulo: 'Panelas antiaderentes que n√£o grudam',
    descricaoCurta: 'Conjunto de panelas antiaderente com tampa de vidro. Durabilidade e estilo.',
    descricao: ` Conjunto Trofa ‚Äì Marpal 9 pe√ßas possui v√°rias cores diferentes para deixar sua cozinha mais moderna e pr√°tica, por um pre√ßo super em conta. Todas as panelas do conjunto cont√™m 5 camadas de revestimento antiaderente e espessura de 1,2 mm. Os pegadores s√£o de baquelite e antit√©rmicos. As tampas de vidro com sa√≠da a vapor d√£o total visibilidade a suas receitas e as panelas s√£o de f√°cil limpeza.
    VANTAGEM:
      - Os acess√≥rios inclu√≠dos neste conjunto s√£o feitos de Nylon e por isso melhoram a durabilidade do antiaderente.
    PE√áAS INCLU√çDAS NO CONJUNTO: 02 Panelas,02 Ca√ßarolas,01 Frigideira Funda, 01 Fervedor e 03 Acess√≥rios.
    DESCRI√á√ÉO DAS PE√áAS:
      01 Panela: Capacidade: 2 L, Di√¢metro: 18 cm, Altura: 7 cm
      01 Panela: Capacidade: 1,5 L, Di√¢metro: 16 cm, Altura: 7 cm
      01 Ca√ßarola: Capacidade: 2,7 L, Di√¢metro: 20 cm, Altura: 8 cm
      01 Ca√ßarola: Capacidade: 2 L, Di√¢metro: 18 cm, Altura: 8 cm
      01 Frigideira Funda: Capacidade: 1,6 L, Di√¢metro: 20 cm, Altura: 6 cm
      01 Fervedor: Capacidade: 2 L, Di√¢metro: 14 cm, Altura: 12 cm
      03 Acess√≥rios (V√£o 3 dos acess√≥rios abaixo. Podem variar, n√£o tem como escolher):
        - Colher de Arroz, Esp√°tula, Concha, Pegador de macarr√£o, Escumadeira
    GARANTIA: 3 meses contra defeito de fabrica√ß√£o e n√£o cobre m√° utiliza√ß√£o.
    EMBALAGEM: Os produtos v√™m numa Caixa Parda Reciclada. N√≥s colaboramos com o meio ambiente utilizando caixas recicladas para transporte.`,
    preco: 'R$ 184,90',
    imagens: ['imagens/panela/panela.png','imagens/panela/panela1.png','imagens/panela/panela2.png','imagens/panela/panela3.png','imagens/panela/panela4.png','imagens/panelas/panela5.png'],
    videos: ['videos/panela/panela.mp4'],
    link: 'https://s.shopee.com.br/2fzo5SXmLV',
  },
  
  {
    titulo: 'L√°pis Cores Giz Canetinhas',
    descricaoCurta: 'Estojo Maleta Pintura Infantil L√°pis Cores Giz Canetinhas e Diversos Tamanhos Desenhos Para Colorir.',
    descricao: ` MALETA DE PINTURA INFANTIL (DE 24 a 68 PE√áAS)
    ANTES DE COMPRAR, FAVOR CONFERIR O TAMANHO DA MALETA QUE EST√Å COMPRANDO.
    N√ÉO √â POSS√çVEL ESCOLHER A CAPA DA MALETA (SER√Å ENVIADO ALEATORIAMENTE CONFORME ESTOQUE).
    CASO QUEIRA ALGO ESPECIFICO, FAVOR NOS CHAMAR NO PRIVADO.
    Maleta na Cor Rosa: Pode ser de unic√≥rnio ou boneca
    Maleta na Cor Azul/Verde: Pode ser de carro ou dinossauro
    OBS: O n√∫mero de pe√ßas de cada maleta vem especificado na parte de tr√°s da maleta.
    O KIT 24 PE√áAS CONTEM:
      8 giz de cera, 12 tinta aquarela, 1 apontador, 1 l√°pis hb, 1 borracha, 1 pincel e Desenhos para colorir
    O KIT 48 PE√áAS CONTEM:
      6 canetinhas, 10 l√°pis de cor, 20 giz de cera, 8 barras de pintura pastel, 1 apontador, 1 borracha, 2 clips para papel e Desenhos para colorir
    O KIT 68 PE√áAS CONTEM:
      12 Canetinhas, 12 barras de pintura √° pastel, 12 giz de cera, 12 tintas aquarela, 12 l√°pis de cor, 1 r√©gua, 1 apontador, 1 l√°pis hb, 1 borracha, 1 cola, 1 pincel, 2 clips e Desenhos para colorir`,
    preco: 'R$ 16,90',
    imagens: ['imagens/caneta/caneta.png','imagens/caneta/caneta1.png','imagens/caneta/caneta2.png','imagens/caneta/caneta3.png'],
    videos: ['videos/caneta/caneta.mp4'],
    link: 'https://s.shopee.com.br/AA5qNBfLbd?share_channel_code=1',
  },
  
  {
    titulo: 'Tabua Magica Descongelar R√°pido',
    descricaoCurta: 'Conjunto de panelas antiaderente com tampa de vidro. Durabilidade e estilo.',
    descricao: ` Descongelar os peitos de frango, bifes, costeletas de porco, costeletas de cordeiro e muito mais dentro de 30-60 minutos dependendo da espessura.
    - Degelo menores de alimentos como hamb√∫rgueres, salsichas, camar√µes e bacon ainda mais r√°pido!
    - Descongelar alimentos congelados em poucos minutos
    - Absolutamente nenhum produto qu√≠mico ou eletricidade e usada. Ao inv√©s de fornos de micro-ondas que cozinha parcialmente o alimento durante o processo de descongelamento, a bandeja descongela a carne com seguran√ßa e rapidez
    - Sem pr√©-aquecimento
    - N√£o e necess√°rio o uso de agua quente.
    - Basta colocar na bandeja e ele vai descongelar alimentos congelados ate 9 vezes mais r√°pido do que a temperatura ambiente.
    - Produto de alta qualidade
    - N√£o h√° necessidade de saber como descongelar o alimento em quest√£o de minutos por mais tempo
    - Bandeja de Degelo R√°pido permite descongelar sua carne congelada, ou alimentos rapidamente e naturalmente
    - Voc√™ n√£o precisa de micro-ondas para descongelar sua carne congelada, basta colocar sobre o super bandeja de degelo e ver a m√°gica. Esta super bandeja de degelo e feita de material de alta qualidade com condutor t√©rmico para acelerar o processo de descongelamento de forma r√°pida.
    - Bandeja n√£o precisa de eletricidade ou baterias.
    - Descongelar mercadorias congeladas naturalmente
Tamanhos : comprimento 36cm largura 21cm`,
    preco: 'R$ 184,90',
    imagens: ['imagens/tabua/tabua.png','imagens/tabua/tabua1.png','imagens/tabua/tabua2.png','imagens/tabua/tabua3.png'],
    videos: ['videos/tabua/tabua.mp4'],
    link: 'https://s.shopee.com.br/3LFWEfDHgR?share_channel_code=1',
  },
  
  {
    titulo: 'Panelas antiaderentes que n√£o grudam',
    descricaoCurta: 'Conjunto de panelas antiaderente com tampa de vidro. Durabilidade e estilo.',
    descricao: ` Conjunto Trofa ‚Äì Marpal 9 pe√ßas possui v√°rias cores diferentes para deixar sua cozinha mais moderna e pr√°tica, por um pre√ßo super em conta. Todas as panelas do conjunto cont√™m 5 camadas de revestimento antiaderente e espessura de 1,2 mm. Os pegadores s√£o de baquelite e antit√©rmicos. As tampas de vidro com sa√≠da a vapor d√£o total visibilidade a suas receitas e as panelas s√£o de f√°cil limpeza.
    VANTAGEM:
      - Os acess√≥rios inclu√≠dos neste conjunto s√£o feitos de Nylon e por isso melhoram a durabilidade do antiaderente.
    PE√áAS INCLU√çDAS NO CONJUNTO: 02 Panelas,02 Ca√ßarolas,01 Frigideira Funda, 01 Fervedor e 03 Acess√≥rios.
    DESCRI√á√ÉO DAS PE√áAS:
      01 Panela: Capacidade: 2 L, Di√¢metro: 18 cm, Altura: 7 cm
      01 Panela: Capacidade: 1,5 L, Di√¢metro: 16 cm, Altura: 7 cm
      01 Ca√ßarola: Capacidade: 2,7 L, Di√¢metro: 20 cm, Altura: 8 cm
      01 Ca√ßarola: Capacidade: 2 L, Di√¢metro: 18 cm, Altura: 8 cm
      01 Frigideira Funda: Capacidade: 1,6 L, Di√¢metro: 20 cm, Altura: 6 cm
      01 Fervedor: Capacidade: 2 L, Di√¢metro: 14 cm, Altura: 12 cm
      03 Acess√≥rios (V√£o 3 dos acess√≥rios abaixo. Podem variar, n√£o tem como escolher):
        - Colher de Arroz, Esp√°tula, Concha, Pegador de macarr√£o, Escumadeira
    GARANTIA: 3 meses contra defeito de fabrica√ß√£o e n√£o cobre m√° utiliza√ß√£o.
    EMBALAGEM: Os produtos v√™m numa Caixa Parda Reciclada. N√≥s colaboramos com o meio ambiente utilizando caixas recicladas para transporte.`,
    preco: 'R$ 184,90',
    imagens: ['imagens/panela/panela.png','imagens/panela/panela1.png','imagens/panela/panela2.png','imagens/panela/panela3.png','imagens/panela/panela4.png','imagens/panelas/panela5.png'],
    videos: ['videos/panela/panela.mp4'],
    link: 'https://s.shopee.com.br/2fzo5SXmLV',
  },
];

// Monta os cards de produtos
function montarCatalogo() {
  const container = $('#catalogo');
  container.empty();

  produtos.forEach((produto, index) => {
    container.append(`
      <div class="produto" data-id="${index}">
        <!-- Usar lazy loading no cat√°logo para imagens -->
        <img src="${produto.imagens[0]}" alt="${produto.titulo}" loading="lazy" />
        <h3>${produto.titulo}</h3>
        <p>${produto.descricaoCurta}</p>
        <p><strong>${produto.preco}</strong></p>
      </div>
    `);
  });
}

// Abre o modal com os dados do produto
function abrirModal(id) {
  const p = produtos[id];
  $('#modal-title').text(p.titulo);
  $('#modal-desc').text(p.descricao);
  $('#modal-price').text(p.preco);
  $('#modal-link').off('click').on('click', () => window.open(p.link, '_blank'));

  const carrossel = $('.carrossel');

  // Se slick j√° inicializado, destr√≥i para reiniciar
  if (carrossel.hasClass('slick-initialized')) {
    carrossel.slick('unslick');
  }

  // Limpa o conte√∫do do carrossel antes de adicionar
  carrossel.html('');

  // Adiciona imagens ao carrossel
  p.imagens.forEach(src => {
    carrossel.append(`<div><img src="${src}" alt="${p.titulo}" loading="lazy" /></div>`);
  });

  // Adiciona v√≠deos ao carrossel
  p.videos.forEach(src => {
    carrossel.append(`
      <div>
        <video controls preload="metadata" style="max-width: 100%; height: auto;">
          <source src="${src}" type="video/mp4" />
          Seu navegador n√£o suporta v√≠deo HTML5.
        </video>
      </div>
    `);
  });

  // Inicializa o slick (plugin de carrossel)
  carrossel.slick({
    dots: true,
    infinite: true,
    speed: 300,
    slidesToShow: 1,
    adaptiveHeight: true,
  });

  // Exibe o modal
  $('#modal').fadeIn();
}

$(document).ready(() => {
  montarCatalogo();

  // Ao clicar em um card, abrir o modal com os detalhes
  $(document).on('click', '.produto', function () {
    abrirModal($(this).data('id'));
  });

  // Fecha o modal ao clicar no bot√£o de fechar
  $('.close').click(() => $('#modal').fadeOut());

  // Fecha o modal ao clicar fora do conte√∫do
  $(window).click(e => {
    if ($(e.target).is('#modal')) {
      $('#modal').fadeOut();
    }
  });
});
