const produtos = [
  {
    titulo: 'Meia-calça Térmica',
    descricaoCurta: 'Meia-Calça Térmica Feminina para Inverno, forrada e peluciada.',
    descricao: `Meia-Calça Térmica Translúcida com Pelúcia – Loja Brasileira | Envio em 24h! 🚀🚀🚀
    🔥 Tamanhos Perfeitos para Todos os Corpos!
      💛 P (30kg-45kg | 120-160cm)
      ❤️ M/G (45kg-80kg | 150-175cm)
      🧡 GG (80kg-100kg | 160-185cm)
  🌟 Por Que Você Vai Amar?
  ❤️ Calor e Durabilidade
    Camada externa à prova de vento + interior peluciado para aquecer no frio!
    Tecnologia antideslizante na virilha – não cai nem com movimento!
    Ajuste fino que modela sem marcar gordurinhas.
    🧡 Controle de Barriga e Corpo Esculpido
    Cinta alta que disfarça a barriga e levanta os glúteos.
    Design que alonga as pernas e cria silhueta elegante.
  💛 Elasticidade Máxima
  Tecido ultra elástico (86.1% Poliéster + 13.9% Spandex) – não deforma!
  Pelúcia interna sem marcas visíveis, perfeita para dias gelados.
  💚 Combina com Tudo!
  Translúcida como meia fina, ideal sob saias, vestidos, shorts ou botas.
  Versátil para trabalho, passeio, casa ou eventos de inverno!
📦 Detalhes Técnicos
    Cor: Preto clássico (discreto e sofisticado).
    Altura: 90cm – cobre até o tornozelo.
  Indicação: Dias frios, atividades ao ar livre, trabalho ou relaxar em casa.
  🧼 Cuidados Essenciais
    Lavar somente à mão em água fria.
    Não usar alvejante ou secadora – secar à sombra.
  🚨 Garantia de Satisfação!
  Dúvidas? Atendimento 24h pronto para ajudar!
  ENVIO EXPRESSO – Receba em até 24h após a compra!
👉 Compre agora e aproveite o inverno com estilo e conforto!`,
    preco: 'R$29,99 - R$83,99',
    imagens: ['imagens/meiacalca/meiacalca.png','imagens/meiacalca/meiacalca1.png','imagens/meiacalca/meiacalca2.png','imagens/meiacalca/meiacalca4.png','imagens/meiacalca/meiacalca5.png','imagens/meiacalca/meiacalca6.png','imagens/meiacalca/meiacalca7.png','imagens/meiacalca/meiacalca8.png','imagens/meiacalca/meiacalca9.png'],
    videos: [],
    link: 'https://s.shopee.com.br/7fOU5jGiU5',
  },
  {
    titulo: 'Película Protetora Para Carro',
    descricaoCurta: 'Película antiembaçante para retrovisor, segurança em dias de chuva.',
    descricao: `NINGUÉM MERECE ESTAR COM O RETROVISOR EMBAÇADO, PRINCIPALMENTE EM DIAS DE CHUVA E PÓS-CHUVA, NÉ?
  AQUELAS GOTÍCULAS DE ÁGUA QUE FICAM BORRANDO O ESPELHO PODEM PREJUDICAR SUA VISÃO E COMPROMETER A SEGURANÇA NO TRÂNSITO.
  COM A PELÍCULA MÁGICA PARA RETROVISOR O ESPELHO VAI FICAR LISINHO E SEM MARCAS DE SUJEIRA OU CHUVA.
  QUEM NUNCA SOFREU PARA OLHAR ATRAVÉS DO RETROVISOR EM DIAS CHUVOSOS, OU AO PASSAR POR UMA ESTRADA RUIM? APLIQUE A PELÍCULA E GARANTA SEMPRE UMA BOA VISÃO.
  PELÍCULA À PROVA D'ÁGUA E POEIRA, CHEGA DE SE PREOCUPAR COM A VISIBILIDADE DE SEU RETROVISOR.
  EVITE ACIDENTES, MANTENHA A VISIBILIDADE DO RETROVISOR ENTRE 95-99%, TAMBÉM PROTEGE DE REFLEXOS.`,
    preco: 'R$ 13,39',
    imagens: ['imagens/retrovisor.png','imagens/retrovisor/retrovisor1.png','imagens/retrovisor/retrovisor2.png','imagens/retrovisor/retrovisor3.png','imagens/retrovisor/retrovisor4.png','imagens/retrovisor/retrovisor5.png'],
    videos: ['videos/retrovisor/retrovisor.mp4'],
    link: 'https://s.shopee.com.br/1VnqjEY4x7?share_channel_code=3',
  },
  {
    titulo: 'Garrafa Térmica Lilo e Stitch',
    descricaoCurta: 'Garrafa com termômetro digital, inox, portátil e super fofa.',
    descricao: `✨Garrafa Térmica com dupla parede de isolamento capaz de manter sua bebida gelada por até 4 horas ou quente por até 2 horas. Possui visor de Led na tampa para indicar a temperatura da bebida dentro da garrafa.
✨Produto feito em Aço Inox
✨Livre de BPA
✨Garrafa com parede dupla e isolamento a vácuo.
Tampa com parede dupla.
✨Portátil e não vaza.
❤️Material:
✨Aço inox
✔️Com termômetro digital
✔️Por favor enviar o nome a ser colocado assim que finalizar a compra, caso contrário seguirá sem o mesmo. Agradecemos a compreensão.`,
    preco: 'R$ 46,74',
    imagens: ['imagens/stitch/stitch.png','imagens/stitch/stitch1.png','imagens/stitch/stitch2.png','imagens/stitch/stitch3.png','imagens/stitch/stitch4.png','imagens/stitch/stitch5.png','imagens/stitch/stitch6.png','imagens/stitch/stitch7.png','imagens/stitch/stitch8.png'],
    videos: ['videos/stitch/stitch video.mp4'],
    link: 'https://s.shopee.com.br/8KeArZVO6l?share_channel_code=3',
  },
  {
    titulo: 'Panelas antiaderentes que não grudam',
    descricaoCurta: 'Conjunto de panelas antiaderente com tampa de vidro. Durabilidade e estilo.',
    descricao: ` Conjunto Trofa – Marpal 9 peças possui várias cores diferentes para deixar sua cozinha mais moderna e prática, por um preço super em conta. Todas as panelas do conjunto contêm 5 camadas de revestimento antiaderente e espessura de 1,2 mm. Os pegadores são de baquelite e antitérmicos. As tampas de vidro com saída a vapor dão total visibilidade a suas receitas e as panelas são de fácil limpeza.
    VANTAGEM:
      - Os acessórios incluídos neste conjunto são feitos de Nylon e por isso melhoram a durabilidade do antiaderente.
    PEÇAS INCLUÍDAS NO CONJUNTO: 02 Panelas,02 Caçarolas,01 Frigideira Funda, 01 Fervedor e 03 Acessórios.
    DESCRIÇÃO DAS PEÇAS:
      01 Panela: Capacidade: 2 L, Diâmetro: 18 cm, Altura: 7 cm
      01 Panela: Capacidade: 1,5 L, Diâmetro: 16 cm, Altura: 7 cm
      01 Caçarola: Capacidade: 2,7 L, Diâmetro: 20 cm, Altura: 8 cm
      01 Caçarola: Capacidade: 2 L, Diâmetro: 18 cm, Altura: 8 cm
      01 Frigideira Funda: Capacidade: 1,6 L, Diâmetro: 20 cm, Altura: 6 cm
      01 Fervedor: Capacidade: 2 L, Diâmetro: 14 cm, Altura: 12 cm
      03 Acessórios (Vão 3 dos acessórios abaixo. Podem variar, não tem como escolher):
        - Colher de Arroz, Espátula, Concha, Pegador de macarrão, Escumadeira
    GARANTIA: 3 meses contra defeito de fabricação e não cobre má utilização.
    EMBALAGEM: Os produtos vêm numa Caixa Parda Reciclada. Nós colaboramos com o meio ambiente utilizando caixas recicladas para transporte.`,
    preco: 'R$ 184,90',
    imagens: ['imagens/panela/panela.png','imagens/panela/panela1.png','imagens/panela/panela2.png','imagens/panela/panela3.png','imagens/panela/panela4.png','imagens/panelas/panela5.png'],
    videos: ['videos/panela/panela.mp4'],
    link: 'https://s.shopee.com.br/2fzo5SXmLV',
  },
];

// Monta os cards de produtos
function montarCatalogo() {
  const container = $('#catalogo');
  container.empty();

  produtos.forEach((produto, index) => {
    container.append(`
      <div class="produto" data-id="${index}">
        <img src="${produto.imagens[0]}" alt="${produto.titulo}" />
        <h3>${produto.titulo}</h3>
        <p>${produto.descricaoCurta}</p>
        <p><strong>${produto.preco}</strong></p>
      </div>
    `);
  });
}

// Abre o modal com os dados do produto
function abrirModal(id) {
  const p = produtos[id];
  $('#modal-title').text(p.titulo);
  $('#modal-desc').text(p.descricao);
  $('#modal-price').text(p.preco);
  $('#modal-link').off('click').on('click', () => window.open(p.link, '_blank'));

  const carrossel = $('.carrossel');

  // Remove carrossel anterior, se houver
  if (carrossel.hasClass('slick-initialized')) {
    carrossel.slick('unslick');
  }
  carrossel.html('');

  // Adiciona imagens e vídeos
  p.imagens.forEach(src => {
    carrossel.append(`<div><img src="${src}" alt="${p.titulo}" /></div>`);
  });
  p.videos.forEach(src => {
    carrossel.append(`<div><video controls preload="metadata"><source src="${src}" type="video/mp4" /></video></div>`);
  });

  // Inicia slick
  carrossel.slick({
    dots: true,
    infinite: true,
    speed: 300,
    slidesToShow: 1,
    adaptiveHeight: true
  });

  $('#modal').fadeIn();
}

$(document).ready(() => {
  montarCatalogo();

  // Clique em um card para abrir o modal
  $(document).on('click', '.produto', function () {
    abrirModal($(this).data('id'));
  });

  // Fecha o modal
  $('.close').click(() => $('#modal').fadeOut());

  // Clica fora do conteúdo para fechar
  $(window).click(e => {
    if ($(e.target).is('#modal')) {
      $('#modal').fadeOut();
    }
  });
});
